I"×<h3 id="changingchange"><a href="http://community.topcoder.com/stat?c=problem_solution&amp;rm=326633&amp;rd=16512&amp;pm=13847&amp;cr=22907549">ChangingChange</a></h3>

<h4 id="analyze">Analyze</h4>

<p>The constraint on <code class="highlighter-rouge">D</code> is the key to solve this problem.</p>

<p>As different ways are given, <code class="highlighter-rouge">Generating function</code> would be a great tool to hold all the info all at once.</p>

<p>Suppose <code class="highlighter-rouge">ways = {1, 3, 6, 2}</code>, then <script type="math/tex">f(x) = 1 + 3x + 6x^2 + 2x^3</script></p>

<p>By adding a coin whose value is <code class="highlighter-rouge">1</code>, then new ways is <script type="math/tex">f(x) * (1+x)</script></p>

<p>On the contrary, by removing a coin whose value is <code class="highlighter-rouge">1</code>, the new ways is <script type="math/tex">f(x) {(1+x)}^{-1}</script></p>

<p>By removing <code class="highlighter-rouge">n</code> coins, the new ways is <script type="math/tex">f(x) {(1+x)}^{-n}</script></p>

<p>The coefficient of $x^k$ is <script type="math/tex">\binom{-n}{k}</script> which has to be developed.</p>

<p><script type="math/tex">\binom{n}{k} = (-1)^{k} \binom{k - n - 1}{k}</script> $\implies$ <script type="math/tex">\binom{-n}{k} = (-1)^{k} \binom{k + n - 1}{k}</script></p>

<p>The final answer would be</p>

<script type="math/tex; mode=display">\sum_{k=0}^D (-1)^{k} \times ways[D - k] \times \binom{k + numberRemoved[i] - 1}{k}</script>

:ET