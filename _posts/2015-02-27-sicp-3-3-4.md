---
layout: post
title: sicp-3-3-4
date: 2015-02-27 22:36:07
isOriginal: true
category: SICP
tags:
 - Lisp
keywords: 
description: 
---

#### 3.28

{%highlight scheme%}
(define (or-gate a1 a2 output)
  (define or-action-procedure
    (let ((new-value
            (logical-or (get-signal a1) (get-signal a2))))
      (after-delay or-gate-delay
                   (lambda ()
                     set-signal! output new_value))))
  (add-action! a1 or-action-procedure)
  (add-action! a2 or-action-procedure)
  'ok)
{%endhighlight%}

#### 3.29

{%highlight scheme%}
(define (or-gate a1 a2 output)
  (define (or-action-procedure)
    (let ((not-a1 (make-wire))
          (not-a2 (make-wire))
          (b (make-wire))
          )
      (inverter a1 not-a1)
      (inverter a2 not-a2)
      (and-gate not-a1 not-a2 b)
      (inverter b result)))
  (add-action! a1 or-action-procedure)
  (add-action! a2 or-action-procedure)
  'ok)
{%endhighlight%}

`2 * inverter + and-gate`

#### 3.30

{%highlight scheme%}
(define (ripple-carry-adder A B S C)
  (let ((c-middle (make-wire)))
    (if (null? (cdr A))
      (set-signal! c-middle 0)
      (ripple-carry-adder (cdr A) (cdr B) (cdr S) c-middle))
    (full-adder (car A) (car B) c-middle (car S) C)))
{%endhighlight%}
