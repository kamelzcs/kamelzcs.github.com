---
layout: post
title: SRM663
date: 2015-07-26 16:24:30
isOriginal: true
category: Contest
tags:
 - Topcoder
keywords: Generating function
description: 
---

### [ChangingChange][1]

#### Analyze

The constraint on `D` is the key to solve this problem.

As different ways are given, `Generating function` would be a great tool to hold all the info all at once.

Suppose `ways = {1, 3, 6, 2}`, then $$ f(x) = 1 + 3x + 6x^2 + 2x^3 $$

By adding a coin whose value is `1`, then new ways is $$ f(x) * (1+x) $$

On the contrary, by removing a coin whose value is `1`, the new ways is $$ f(x) {(1+x)}^{-1}$$

By removing `n` coins, the new ways is $$ f(x) {(1+x)}^{-n}$$

The coefficient of $x^k$ is $$ \binom{-n}{k} $$ which has to be developed.


$$\binom{n}{k} = (-1)^{k} \binom{k - n - 1}{k} $$ $\implies$ $$\binom{-n}{k} = (-1)^{k} \binom{k + n - 1}{k} $$

The final answer would be

$$ \sum_{k=0}^D (-1)^{k} \times ways[D - k] \times \binom{k + numberRemoved[i] - 1}{k} $$


[1]: http://community.topcoder.com/stat?c=problem_solution&rm=326633&rd=16512&pm=13847&cr=22907549


